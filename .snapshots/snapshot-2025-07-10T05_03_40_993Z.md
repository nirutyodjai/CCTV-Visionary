Enter your prompt here

# Project Structure

├─ 📁 docs
  └─ blueprint.md
├─ 📁 src
  ├─ 📁 lib
    └─ utils.ts
    └─ ui-enhancements.ts
    └─ types.ts
    └─ state-history.ts
    └─ safe-action.ts
    └─ report.service.ts
    └─ ipam.service.ts
    └─ firebase.ts
    └─ export.service.ts
    └─ DEVICE_CONFIG.tsx
    └─ device-config.tsx
    └─ demo-data.ts
    └─ demo-3d-data.ts
    └─ ai-cache.ts
  ├─ 📁 hooks
    └─ use-keyboard-shortcuts.ts
    └─ use-touch-gestures.ts
    └─ use-toast.ts
    └─ use-mobile.tsx
    └─ use-mobile-detection.ts
  ├─ 📁 contexts
    └─ SelectionContext.tsx
  ├─ 📁 components
    ├─ 📁 canvas
      └─ architectural-element-renderer.tsx
      └─ camera-fov-renderer.tsx
      └─ device-renderer.tsx
      └─ planner-canvas.tsx
    ├─ 📁 rack
      └─ rack-elevation-view.tsx
    ├─ 📁 topology
      └─ logical-topology-view.tsx
    ├─ 📁 ui
      └─ avatar.tsx
      └─ button.tsx
      └─ badge.tsx
      └─ dialog.tsx
      └─ dropdown-menu.tsx
      └─ collapsible.tsx
      └─ export-dialog.tsx
      └─ menubar.tsx
      └─ label.tsx
      └─ popover.tsx
      └─ progress.tsx
      └─ performance-dashboard.tsx
      └─ mobile-nav.tsx
      └─ input.tsx
      └─ properties-toggle-button.tsx
      └─ history-panel.tsx
      └─ separator.tsx
      └─ select.tsx
      └─ scroll-area.tsx
      └─ radio-tile-group.tsx
      └─ sidebar-toggle.tsx
      └─ sheet.tsx
      └─ slider.tsx
      └─ table.tsx
      └─ tabs.tsx
      └─ toaster.tsx
      └─ toast.tsx
      └─ three-d-visualizer.tsx
      └─ tooltip.tsx
      └─ tool-card.tsx
      └─ touch-canvas.tsx
      └─ theme-toggle.tsx
      └─ textarea.tsx
      └─ switch.tsx
      └─ skeleton.tsx
      └─ sidebar.tsx
      └─ radio-group.tsx
      └─ file-upload.tsx
      └─ form.tsx
      └─ checkbox.tsx
      └─ chart.tsx
      └─ carousel.tsx
      └─ card.tsx
      └─ calendar.tsx
      └─ alert.tsx
      └─ alert-dialog.tsx
      └─ ai-report-generator.tsx
      └─ accordion.tsx
    ├─ 📁 icons
      └─ fiber-optic-icon.tsx
      └─ monitor-icon.tsx
      └─ index.ts
      └─ nvr-icon.tsx
      └─ rg6-cable-icon.tsx
      └─ switch-icon.tsx
      └─ utp-cat6-icon.tsx
      └─ table-icon.tsx
      └─ rg59-cable-icon.tsx
      └─ wifi-ap-icon.tsx
      └─ rack-icon.tsx
      └─ cctv-ptz-icon.tsx
      └─ cctv-dome-icon.tsx
      └─ cctv-bullet-icon.tsx
    ├─ 📁 sidebar
      ├─ 📁 properties
        └─ rack-properties.tsx
        └─ network-device-properties.tsx
        └─ camera-properties.tsx
        └─ architectural-element-properties.tsx
      └─ devices-toolbar.tsx
      └─ diagnostics-panel.tsx
      └─ project-manager.tsx
      └─ plan-management.tsx
      └─ project-navigator.tsx
      └─ system-status-panel.tsx
      └─ reaction-buttons.tsx
      └─ properties-panel.tsx
      └─ network-settings.tsx
      └─ floor-plan-upload.tsx
      └─ floor-plan-upload-advanced.tsx
      └─ bill-of-materials.tsx
      └─ architecture-toolbar.tsx
      └─ app-settings.tsx
      └─ ai-assistant.tsx
    └─ cctv-planner.tsx
    └─ interactive-feature-preview.tsx
    └─ theme-provider.tsx
    └─ sahara-button.tsx
  ├─ 📁 ai
    ├─ 📁 flows
      └─ find-cable-path.ts
      └─ generate-report-layout.ts
      └─ get-device-details.ts
      └─ generate-logical-topology-layout.ts
      └─ analyze-cctv-plan.ts
      └─ run-plan-diagnostics.ts
      └─ suggest-device-placements.ts
    └─ dev.ts
    └─ genkit.ts
  ├─ 📁 app
    ├─ 📁 planner
      └─ page.tsx
      └─ layout.tsx
    └─ globals.css
    └─ page.tsx
    └─ layout.tsx
    └─ layout.test.tsx
    └─ actions.ts
├─ 📁 dataconnect
  ├─ 📁 schema
    └─ schema.gql
  ├─ 📁 connector
    └─ queries.gql
    └─ mutations.gql
    └─ connector.yaml
  └─ dataconnect.yaml
├─ 📁 .next
  ├─ 📁 cache
    ├─ 📁 webpack
      ├─ 📁 client-production
        └─ 0.pack
        └─ 7.pack
        └─ 8.pack
        └─ 6.pack
        └─ 5.pack
        └─ 9.pack
        └─ index.pack
        └─ 4.pack
        └─ 3.pack
        └─ 2.pack
        └─ 1.pack
      ├─ 📁 server-production
        └─ 1.pack
        └─ 0.pack
        └─ 2.pack
        └─ 5.pack
        └─ 4.pack
        └─ 3.pack
        └─ index.pack
      ├─ 📁 edge-server-production
        └─ index.pack
        └─ 0.pack
      ├─ 📁 server-development
        └─ 1.pack.gz
        └─ 0.pack.gz
        └─ 12.pack.gz
        └─ 11.pack.gz
        └─ 10.pack.gz
        └─ 3.pack.gz
        └─ 2.pack.gz
        └─ 4.pack.gz
        └─ 7.pack.gz
        └─ 6.pack.gz
        └─ index.pack.gz
        └─ 9.pack.gz
        └─ 8.pack.gz
        └─ 5.pack.gz
      ├─ 📁 client-development
        └─ 1.pack.gz
        └─ 4.pack.gz
        └─ 5.pack.gz
        └─ 6.pack.gz
        └─ 3.pack.gz
        └─ 2.pack.gz
        └─ 14.pack.gz
        └─ 7.pack.gz
        └─ 8.pack.gz
        └─ 9.pack.gz
        └─ 13.pack.gz
        └─ index.pack.gz
        └─ 12.pack.gz
        └─ 11.pack.gz
        └─ 10.pack.gz
        └─ 0.pack.gz
    └─ .rscinfo
  ├─ 📁 server
    ├─ 📁 app
      ├─ 📁 planner
        └─ page_client-reference-manifest.js
        └─ page.js
      └─ page_client-reference-manifest.js
      └─ page.js
    ├─ 📁 vendor-chunks
      └─ @grpc.js
      └─ @js-sdsl.js
      └─ @google.js
      └─ @opentelemetry.js
      └─ @genkit-ai.js
      └─ @floating-ui.js
      └─ @protobufjs.js
      └─ @radix-ui.js
      └─ @firebase.js
      └─ @babel.js
      └─ @react-dnd.js
      └─ @reactflow.js
      └─ canvg.js
      └─ aria-hidden.js
      └─ ajv.js
      └─ ajv-formats.js
      └─ @swc.js
      └─ class-variance-authority.js
      └─ classcat.js
      └─ clsx.js
      └─ core-js.js
      └─ d3-color.js
      └─ d3-dispatch.js
      └─ dnd-core.js
      └─ data-uri-to-buffer.js
      └─ d3-zoom.js
      └─ d3-transition.js
      └─ d3-timer.js
      └─ d3-selection.js
      └─ d3-interpolate.js
      └─ d3-ease.js
      └─ dompurify.js
      └─ d3-drag.js
      └─ fast-uri.js
      └─ dotprompt.js
      └─ fast-deep-equal.js
      └─ fflate.js
      └─ firebase.js
      └─ immer.js
      └─ lucide-react.js
      └─ long.js
      └─ next.js
      └─ node-domexception.js
      └─ next-themes.js
      └─ motion-utils.js
      └─ node-fetch.js
      └─ motion-dom.js
      └─ lodash.camelcase.js
      └─ partial-json.js
      └─ jspdf.js
      └─ json5.js
      └─ performance-now.js
      └─ uuid.js
      └─ use-sync-external-store.js
      └─ zod.js
      └─ zod-to-json-schema.js
      └─ yaml.js
      └─ web-streams-polyfill.js
      └─ use-sidecar.js
      └─ use-callback-ref.js
      └─ tslib.js
      └─ tailwind-merge.js
      └─ svg-pathdata.js
      └─ stackblur-canvas.js
      └─ shimmer.js
      └─ semver.js
      └─ rgbcolor.js
      └─ redux.js
      └─ reactflow.js
      └─ react-style-singleton.js
      └─ react-remove-scroll.js
      └─ react-remove-scroll-bar.js
      └─ react-dnd.js
      └─ react-dnd-touch-backend.js
      └─ react-dnd-html5-backend.js
      └─ raf.js
      └─ protobufjs.js
      └─ json-schema-traverse.js
      └─ idb.js
      └─ html2canvas.js
      └─ handlebars.js
      └─ get-port.js
      └─ get-nonce.js
      └─ genkit.js
      └─ framer-motion.js
      └─ formdata-polyfill.js
      └─ fetch-blob.js
    └─ app-paths-manifest.json
    └─ next-font-manifest.json
    └─ next-font-manifest.js
    └─ server-reference-manifest.json
    └─ webpack-runtime.js
    └─ _ssr_src_lib_report_service_ts.js
    └─ server-reference-manifest.js
    └─ pages-manifest.json
    └─ middleware-react-loadable-manifest.js
    └─ middleware-manifest.json
    └─ interception-route-rewrite-manifest.js
  ├─ 📁 static
    ├─ 📁 development
      └─ _ssgManifest.js
    ├─ 📁 media
      └─ 21502afb5d341639-s.p.woff2
      └─ 1f1bc71f0d981582-s.p.woff2
      └─ 1a12b027fdded216-s.woff2
      └─ 0b53384bc8cc52db-s.p.woff2
      └─ 513413b711088711-s.p.woff2
      └─ 3c7225ad892364d7-s.woff2
      └─ 33387a3e1220e613-s.woff2
      └─ 760a9ea75c6166f6-s.woff2
      └─ 6211ef845df10dad-s.p.woff2
      └─ 7dfdf996fafd0873-s.p.woff2
      └─ 2f6258ffdaf4644f-s.p.woff2
      └─ 2b74019ebf7a71b9-s.woff2
      └─ 21b3ec5f6f7ed992-s.woff2
      └─ 8fc9138006ae4675-s.woff2
      └─ 96ad5eed80b1484c-s.woff2
      └─ 0ab56aae8cf76709-s.woff2
      └─ 9c10c573cc87fc67-s.woff2
      └─ d660c4b004d35ef0-s.p.woff2
      └─ cb0cc0f907592c8f-s.woff2
      └─ ae276ebc9070dd85-s.woff2
      └─ a979d3d6cbff0fe3-s.p.woff2
      └─ a1a058a3e6543db0-s.p.woff2
      └─ f8092a6a9ad7a44c-s.p.woff2
      └─ f33c62bdbd09f5b8-s.p.woff2
    ├─ 📁 css
      ├─ 📁 app
        ├─ 📁 planner
          └─ page.css
        └─ layout.css
    ├─ 📁 webpack
      ├─ 📁 app
        ├─ 📁 planner
          └─ page.86b40a0848e5b803.hot-update.js
          └─ page.e8eb25fa719e58d6.hot-update.js
          └─ page.5fc05539809ca6e2.hot-update.js
          └─ page.3afe7e51f2007715.hot-update.js
          └─ page.0bc12e562346ea71.hot-update.js
        └─ layout.0bc12e562346ea71.hot-update.js
        └─ layout.3da83ac162860f7a.hot-update.js
        └─ layout.3afe7e51f2007715.hot-update.js
        └─ layout.304fc89c25dbb226.hot-update.js
        └─ layout.20948399cc7000b2.hot-update.js
        └─ layout.5fc05539809ca6e2.hot-update.js
        └─ layout.6a4c40a8b08249c8.hot-update.js
        └─ layout.5b3f265df923a720.hot-update.js
        └─ layout.86b40a0848e5b803.hot-update.js
        └─ layout.1630e0c91f77ffa1.hot-update.js
        └─ layout.9cdbb7e7a67fe4a2.hot-update.js
        └─ layout.b894facf737b0aa0.hot-update.js
        └─ layout.e8eb25fa719e58d6.hot-update.js
        └─ layout.f913a27520adb1c1.hot-update.js
        └─ layout.b3bbb51199661e8d.hot-update.js
      └─ 633457081244afec._.hot-update.json
      └─ webpack.304fc89c25dbb226.hot-update.js
      └─ webpack.20948399cc7000b2.hot-update.js
      └─ webpack.0bc12e562346ea71.hot-update.js
      └─ webpack.3afe7e51f2007715.hot-update.js
      └─ webpack.1630e0c91f77ffa1.hot-update.js
      └─ webpack.3da83ac162860f7a.hot-update.js
      └─ webpack.5b3f265df923a720.hot-update.js
      └─ webpack.b3bbb51199661e8d.hot-update.js
      └─ webpack.9cdbb7e7a67fe4a2.hot-update.js
      └─ webpack.b894facf737b0aa0.hot-update.js
      └─ webpack.86b40a0848e5b803.hot-update.js
      └─ webpack.6a4c40a8b08249c8.hot-update.js
      └─ webpack.e8eb25fa719e58d6.hot-update.js
      └─ webpack.f913a27520adb1c1.hot-update.js
      └─ webpack.5fc05539809ca6e2.hot-update.js
    ├─ 📁 chunks
      ├─ 📁 app
        ├─ 📁 planner
          └─ page.js
          └─ layout.js
        └─ layout.js
        └─ page.js
      └─ webpack.js
      └─ polyfills.js
      └─ main-app.js
      └─ app-pages-internals.js
      └─ _app-pages-browser_src_lib_report_service_ts.js
  ├─ 📁 types
    ├─ 📁 app
      ├─ 📁 planner
        └─ page.ts
        └─ layout.ts
      └─ layout.ts
      └─ page.ts
    └─ package.json
    └─ cache-life.d.ts
  └─ trace
  └─ react-loadable-manifest.json
  └─ package.json
├─ 📁 .idx
  └─ dev.nix
  └─ integrations.json
└─ next.config.ts
└─ ROADMAP.md
└─ README.md
└─ postcss.config.mjs
└─ package.json
└─ package-lock.json
└─ tsconfig.json
└─ tailwind.config.ts
└─ next-env.d.ts
└─ jest.setup.ts
└─ jest.config.js
└─ firebase.json
└─ DEVELOPMENT.md
└─ components.json
└─ apphosting.yaml
└─ .modified
└─ .firebaserc


# Project Files

- d:\COMDEE\project-comdee\CCTV-Visionary\src\components\sidebar\devices-toolbar.tsx
- d:\COMDEE\project-comdee\CCTV-Visionary\src\components\icons\rg6-cable-icon.tsx
- d:\COMDEE\project-comdee\CCTV-Visionary\src\components\sidebar\properties\camera-properties.tsx
- d:\COMDEE\project-comdee\CCTV-Visionary\src\lib\DEVICE_CONFIG.tsx
- d:\COMDEE\project-comdee\CCTV-Visionary\src\components\icons\rg59-cable-icon.tsx

## d:\COMDEE\project-comdee\CCTV-Visionary\src\components\sidebar\devices-toolbar.tsx
```
'use client';

import { DEVICE_CONFIG } from '@/lib/device-config';
import type { DeviceType } from '@/lib/types';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Wrench } from 'lucide-react';
import { ToolCard } from '@/components/ui/tool-card';
import React from 'react';

interface DevicesToolbarProps {
  onSelectDevice: (type: DeviceType) => void;
}

const TOOLBAR_DEVICES: DeviceType[] = [
    'cctv-dome',
    'cctv-bullet',
    'cctv-ptz',
    'wifi-ap',
    'nvr',
    'switch',
    'rack-indoor',
    'rack-outdoor',
    'ups',
    'pdu',
    'patch-panel',
    'monitor',
    'table',
    'utp-cat6',
    'fiber-optic',
];

// Assign consistent colors for better UX
const deviceToolColors: { [key in DeviceType]?: string } = {
    'cctv-dome': 'hsl(221, 83%, 53%)',
    'cctv-bullet': 'hsl(221, 83%, 53%)',
    'cctv-ptz': 'hsl(221, 83%, 53%)',
    'wifi-ap': 'hsl(142, 71%, 45%)',
    'nvr': 'hsl(24, 95%, 53%)',
    'switch': 'hsl(24, 95%, 53%)',
    'rack-indoor': 'hsl(215, 20%, 65%)',
    'rack-outdoor': 'hsl(215, 20%, 65%)',
    'ups': 'hsl(142, 71%, 45%)',
    'pdu': 'hsl(45, 95%, 53%)',
    'patch-panel': 'hsl(215, 20%, 65%)',
    'monitor': 'hsl(295, 71%, 45%)',
    'table': 'hsl(30, 30%, 70%)',
    'utp-cat6': 'hsl(200, 80%, 50%)',
    'fiber-optic': 'hsl(280, 80%, 50%)',
};


export function DevicesToolbar({ onSelectDevice }: DevicesToolbarProps) {
    // We use a reducer to force a re-render after clicking a tool.
    // This is because these tools are actions, not toggles, and shouldn't stay "checked".
    // The re-render will ensure the `checked={false}` prop is re-applied.
    const [key, forceUpdate] = React.useReducer((x) => x + 1, 0);

  return (
     <Card key={key}>
      <CardHeader className="p-3 border-b">
        <CardTitle className="text-sm font-semibold flex items-center gap-2">
            <Wrench className="w-4 h-4" />
            เครื่องมืออุปกรณ์
        </CardTitle>
      </CardHeader>
       <CardContent className="p-3">
            <div className="grid grid-cols-2 gap-2">
            {TOOLBAR_DEVICES.map(type => {
                const config = DEVICE_CONFIG[type];
                if (!config) return null;
                const Icon = config.icon;
                return (
                    <ToolCard
                        key={type}
                        icon={<Icon />}
                        title={config.name}
                        subtitle="เพิ่มลงในแผน"
                        color={deviceToolColors[type] || 'hsl(var(--primary))'}
                        checked={false}
                        onChange={() => {
                            onSelectDevice(type);
                            forceUpdate();
                        }}
                    />
                )
            })}
            </div>
       </CardContent>
    </Card>
  );
}

```

## d:\COMDEE\project-comdee\CCTV-Visionary\src\components\icons\rg6-cable-icon.tsx
```

```

## d:\COMDEE\project-comdee\CCTV-Visionary\src\components\sidebar\properties\camera-properties.tsx
```
'use client';
import type { AnyDevice } from '@/lib/types';
import { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from '@/components/ui/accordion';
import { Label } from '@/components/ui/label';
import { Input } from '@/components/ui/input';
import { Slider } from '@/components/ui/slider';
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';

interface CameraPropertiesProps {
  device: AnyDevice;
  onUpdate: (device: AnyDevice) => void;
}

export function CameraProperties({ device, onUpdate }: CameraPropertiesProps) {
  const isPtz = device.type === 'cctv-ptz';

  const handleChange = (key: keyof AnyDevice, value: any) => {
    const numericFields = ['price', 'powerConsumption', 'rotation', 'fov', 'range', 'zoomLevel'];
    const finalValue = numericFields.includes(key as string) ? parseFloat(String(value)) || 0 : value;
    const updatedDevice = { ...device, [key]: finalValue };
    onUpdate(updatedDevice);
  };

  const handlePtzZoomChange = (zoomLevel: number) => {
    // PTZ defaults from config as base values
    const baseFov = 120;
    const baseRange = 50;

    const newFov = baseFov / zoomLevel;
    const newRange = baseRange * zoomLevel;

    const updatedDevice = { 
        ...device, 
        zoomLevel,
        fov: newFov,
        range: newRange
    };
    onUpdate(updatedDevice);
  };

  return (
    <Accordion type="multiple" defaultValue={['general', 'specifics', 'placement']} className="w-full">
      <AccordionItem value="general">
        <AccordionTrigger>General</AccordionTrigger>
        <AccordionContent className="space-y-4 pt-2">
          <div className="space-y-2">
            <Label htmlFor="device-label">Label</Label>
            <Input id="device-label" value={device.label} onChange={e => handleChange('label', e.target.value)} />
          </div>
          <div className="space-y-2">
            <Label htmlFor="device-price">Price (THB)</Label>
            <Input id="device-price" type="number" value={device.price || 0} onChange={e => handleChange('price', e.target.value)} />
          </div>
        </AccordionContent>
      </AccordionItem>
      
      <AccordionItem value="specifics">
        <AccordionTrigger>Camera Specifics</AccordionTrigger>
        <AccordionContent className="space-y-4 pt-2">
          <div className="space-y-2">
            <Label htmlFor="device-resolution">Resolution</Label>
            <Select value={String(device.resolution || '')} onValueChange={(val) => handleChange('resolution', val)}>
              <SelectTrigger id="device-resolution"><SelectValue placeholder="Select..." /></SelectTrigger>
              <SelectContent>
                {['720p', '1080p', '2K', '4K'].map(option => (
                  <SelectItem key={option} value={option}>{option}</SelectItem>
                ))}
              </SelectContent>
            </Select>
          </div>
          
          {isPtz ? (
            <div className="space-y-3 p-3 rounded-lg border bg-muted/50">
                <Label>Zoom ({Number(device.zoomLevel || 1).toFixed(1)}x)</Label>
                <Slider 
                    value={[Number(device.zoomLevel) || 1]} 
                    onValueChange={([val]) => handlePtzZoomChange(val)} 
                    min={1} 
                    max={10} 
                    step={0.1} 
                />
                <div className="text-xs text-muted-foreground grid grid-cols-2 gap-2">
                    <span>FOV: <strong>{Number(device.fov).toFixed(1)}°</strong></span>
                    <span>Range: <strong>{Number(device.range).toFixed(1)}m</strong></span>
                </div>
            </div>
          ) : (
            <>
                <div className="space-y-2">
                    <Label>Field of View ({(Number(device.fov) || 0).toFixed(0)}°)</Label>
                    <Slider value={[Number(device.fov) || 0]} onValueChange={([val]) => handleChange('fov', val)} min={10} max={180} step={1} />
                </div>
                <div className="space-y-2">
                    <Label>Range ({(Number(device.range) || 0).toFixed(0)} m.)</Label>
                    <Slider value={[Number(device.range) || 0]} onValueChange={([val]) => handleChange('range', val)} min={1} max={100} step={1} />
                </div>
            </>
          )}

          <div className="space-y-2">
            <Label>Rotation {isPtz && '(Pan)'} ({(Number(device.rotation) || 0).toFixed(0)}°)</Label>
            <Slider value={[Number(device.rotation) || 0]} onValueChange={([val]) => handleChange('rotation', val)} min={0} max={360} step={1} />
          </div>
        </AccordionContent>
      </AccordionItem>
      
       <AccordionItem value="network">
        <AccordionTrigger>Network</AccordionTrigger>
        <AccordionContent className="space-y-4 pt-2">
            <div className="space-y-2">
                <Label htmlFor="device-ip">IP Address</Label>
                <Input id="device-ip" value={device.ipAddress || ''} onChange={e => handleChange('ipAddress', e.target.value)} />
            </div>
        </AccordionContent>
      </AccordionItem>

      <AccordionItem value="placement">
        <AccordionTrigger>Placement</AccordionTrigger>
        <AccordionContent className="space-y-4 pt-2">
          <div className="space-y-2">
            <Label>Position (X, Y)</Label>
            <div className="flex space-x-2">
              <Input value={device.x.toFixed(3)} readOnly disabled />
              <Input value={device.y.toFixed(3)} readOnly disabled />
            </div>
          </div>
        </AccordionContent>
      </AccordionItem>
    </Accordion>
  );
}

```

## d:\COMDEE\project-comdee\CCTV-Visionary\src\lib\DEVICE_CONFIG.tsx
```
import { CctvBulletIcon, CctvDomeIcon, CctvPtzIcon, WifiApIcon, NvrIcon, SwitchIcon, MonitorIcon, UtpCat6Icon, FiberOpticIcon, RackIcon, TableIcon } from "@/components/icons";
import { Server, Zap, HardDrive, PanelTop, Power } from 'lucide-react';
import type { DeviceType, Device, DeviceConfig } from "./types";


export const DEVICE_CONFIG: Record<DeviceType, DeviceConfig> = {
  'cctv-bullet': { name: 'กล้องกระบอก', icon: CctvBulletIcon, defaults: { resolution: '1080p', fov: 90, range: 20, rotation: 0 } },
  'cctv-dome': { name: 'กล้องโดม', icon: CctvDomeIcon, defaults: { resolution: '1080p', fov: 90, range: 20, rotation: 0 } },
  'cctv-ptz': { name: 'กล้อง PTZ', icon: CctvPtzIcon, defaults: { resolution: '1080p', fov: 120, range: 30, rotation: 0 } },
  'wifi-ap': { name: 'WiFi AP', icon: WifiApIcon, defaults: { range: 15 } },
  'nvr': { name: 'NVR/DVR', icon: NvrIcon, defaults: { channels: 16, storage: '4TB' } },
  'switch': { name: 'สวิตช์', icon: SwitchIcon, defaults: { ports: 8 } },
  'monitor': { name: 'จอภาพ', icon: MonitorIcon, defaults: { size: '24"' } },
  'utp-cat6': { name: 'UTP CAT6', icon: UtpCat6Icon, defaults: { length: 10 } },
  'fiber-optic': { name: 'Fiber Optic', icon: FiberOpticIcon, defaults: { length: 10 } },
  'rack-indoor': { name: 'ตู้ Rack (Indoor)', icon: RackIcon, defaults: { size: '9U' } },
  'rack-outdoor': { name: 'ตู้ Rack (Outdoor)', icon: RackIcon, defaults: { size: '9U', ip_rating: 'IP65' } },
  'patch-panel': { name: 'Patch Panel', icon: PanelTop, defaults: { ports: 24, uHeight: 1 } },
  'pdu': { name: 'PDU', icon: Power, defaults: { powerCapacity: 32, uHeight: 1 } },
  'ups': { name: 'UPS', icon: HardDrive, defaults: { powerCapacity: 1000, uHeight: 2 } },
  'table': { name: 'โต๊ะ', icon: TableIcon, defaults: {} },
};

export function createDevice(type: DeviceType, x: number, y: number, existingDevices: Device[]): Device {
  const count = existingDevices.filter(d => d.type === type).length + 1;
  const config = DEVICE_CONFIG[type];

  return {
    id: `dev_${Date.now()}_${Math.random().toString(36).substr(2, 5)}`,
    type: type,
    x,
    y,
    label: `${config.name}-${count}`,
    ...config.defaults
  } as Device;
}

```

## d:\COMDEE\project-comdee\CCTV-Visionary\src\components\icons\rg59-cable-icon.tsx
```

```

